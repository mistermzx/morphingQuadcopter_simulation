# morphingQuadcopter_simulation
Matlab Simulation of a morphing quadcopter.  As part of my research work within the HiPer Lab ( Prof. Mark W. Mueller) at UC Berkeley.

## Background
This work has been conducted as an undergraduate research project in the UC Berkeley High Performance Robotics Lab (HiPerLab) of Prof. Mark W. Mueller in Spring 2018 under the supervision of Nathan Bucki. The goal of the whole project is to create a novel quadcopter design, which is able to fly through gaps smaller than its actual size, by folding its arms. My part was to derive the dynamics of the system, create a simulation and test out control strategies under various disturbance cases. Eventually, this lead to the published paper "Design an Control of a passively morphing quadcopter" (ICRA 2019) https://nathanbucki.com/wp-content/uploads/2019/03/Design-and-Control-of-a-Passively-Morphing-Quadcopter.pdf (see acknowledgement).

## Abstract
The main thing, which differentiates our design from normal quadcopters, are hinges at each of the arms, which will allow the quadcopter arms to fold in. Instead of introducing extra actuations, we purely rely on the motor thrust to extend the arms and constant force springs to pull them back in.
Since the arms are able to move with respect to the quadcopter body, the system now consists of five moving bodies. Its dynamics were derived in tensor notation using Newton's and Euler's law for each of the subsystems. For solving the differential equations, an one-step Euler approximation is implemented.
The simulation has been built up from scratch using object-oriented programming in Matlab. Given an input (desired spinning speed of the 4 motors), it can simulate the dynamics of the systems and create an animation video of the quadcopter.
In order to fly through a gap, we first solve for an optimal initial position and velocity, by treating the quadcopter as a point mass. Once the quadcopter has reached that, we cut the thrust, in order to fold back the arms. After the quadcopter flew thorugh the gap, we open up the arms, by setting all motor thrust to 100%. When all arms are fully extended, we can use the attitude and position controller of a conventional quadcopter to stabilize the system. This control strategy has been tested for cases with asymmetric motor time constants and motor thrust. The simulation showed promising results, which convinced us to move forward with this project.
